{
    "builders": [
        {
            "boot_command": [
                "<esc><esc><enter><wait>",
                "/install/vmlinuz noapic ",
                "preseed/url=http://dl.dropboxusercontent.com/u/16200445/ubuntu-preseed.cfg ",
                "debian-installer=en_US auto locale=en_US kbd-chooser/method=us ",
                "hostname=vagrant-precise64 ",
                "fb=false debconf/frontend=noninteractive ",
                "keyboard-configuration/modelcode=SKIP keyboard-configuration/layout=USA ",
                "keyboard-configuration/variant=USA console-setup/ask_detect=false ",
                "initrd=/install/initrd.gz -- <enter>"
            ],
            "disk_size": 20000,
            "guest_os_type": "ubuntu-64",
            "iso_checksum": "b802bb065df98c0530d782eb94778c2da19e10d6",
            "iso_checksum_type": "sha1",
            "iso_url": "http://releases.ubuntu.com/trusty/ubuntu-14.04.1-server-amd64.iso",
            "output_directory": "ubuntu-vm",
            "shutdown_command": "echo vagrant | sudo -S shutdown -P now",
            "ssh_password": "vagrant",
            "ssh_username": "vagrant",
            "ssh_wait_timeout": "300s",
            "tools_upload_flavor": "linux",
            "type": "vmware-iso"
        }
    ],
    "post-processors": [
        {
            "type": "vagrant"
        }
    ],
    "provisioners": [
        {
            "inline": [
                "echo deb mirror://mirrors.ubuntu.com/mirrors.txt trusty main restricted universe multiverse > /etc/apt/sources.list",
                "echo deb mirror://mirrors.ubuntu.com/mirrors.txt trusty-security main restricted universe multiverse >> /etc/apt/sources.list",
                "echo deb mirror://mirrors.ubuntu.com/mirrors.txt trusty-updates main restricted universe multiverse >> /etc/apt/sources.list",
                "apt-get update",
                "apt-get install -y sudo python-dev python-apt python-pycurl python-pip python-virtualenv",
                "pip install -U ansible"
            ],
            "type": "shell"
        },
        {
            "playbook_file": "development_machine.yml",
            "role_paths": [
                "roles/common"
            ],
            "type": "ansible-local"
        }
    ]
}
